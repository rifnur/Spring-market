<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

    <head th:replace="fragments/head.html :: head">
    </head>

    <body>
        
        <!--================Menu Area =================-->
        <header th:replace="fragments/main_menu.html :: main_menu">
        </header>
        <!--================End Menu Area =================-->
        
        <!--================Shopping Cart Area =================-->
        <section class="shopping_cart_area p_100">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8">
                        <div class="cart_product_list">
                            <h3 class="cart_single_title">Discount Cupon</h3>
                            <div class="table-responsive-md">
                                <form id="cartItemsForm" th:method="post" th:action="@{/cart/update_all_qty}">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col"></th>
                                            <th scope="col">product</th>
                                            <th scope="col">price</th>
                                            <th scope="col">qunatity</th>
                                            <th scope="col">total</th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                        <tr th:each="lineItem : ${lineItems}">
                                            <th scope="row">
                                                <img src="img/icon/close-icon.png" alt="">
                                            </th>
                                            <td>
                                                <div class="media">
                                                    <div class="d-flex">
                                                        <img th:src="@{/picture/{id}(id = ${lineItem.productRepr.pictureId})}" alt="">
                                                    </div>
                                                    <div class="media-body">
                                                        <h4>[[${lineItem.productRepr.name}]]</h4>
                                                    </div>
                                                </div>
                                            </td>
                                            <td><p>$[[${lineItem.productRepr.price}]]</p></td>
                                            <td><input type="text" th:value="${lineItem.qty}"></td>
                                            <td><p>[[${lineItem.total}]]</p></td>
                                        </tr>

                                    </tbody>
                                </table>
                                </form>
                            </div>
                        </div>
                        <div class="calculate_shoping_area">
                            <h3 class="cart_single_title">Calculate Shoping <span><i class="icon_minus-06"></i></span></h3>
                            <div class="calculate_shop_inner">
                                <form class="calculate_shoping_form row" action="contact_process.php" method="post" id="contactForm" novalidate="novalidate">
                                    <div class="form-group col-lg-12">
                                        <select class="selectpicker">
                                            <option>United State America (USA)</option>
                                            <option>United State America (USA)</option>
                                            <option>United State America (USA)</option>
                                        </select>
                                    </div>
                                    <div class="form-group col-lg-6">
                                        <input type="text" class="form-control" id="state" name="state" placeholder="State / Country">
                                    </div>
                                    <div class="form-group col-lg-6">
                                        <input type="text" class="form-control" id="zip" name="zip" placeholder="Postcode / Zip">
                                    </div>
                                    <div class="form-group col-lg-12">
                                        <button type="submit" value="submit" class="btn submit_btn form-control">update totals</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="total_amount_area">
                            <div class="cupon_box">
                                <h3 class="cart_single_title">Discount Cupon</h3>
                                <div class="cupon_box_inner">
                                    <input type="text" placeholder="Enter your code here">
                                    <button type="submit" class="btn btn-primary subs_btn">apply cupon</button>
                                </div>
                            </div>
                            <div class="cart_totals">
                                <h3 class="cart_single_title">Discount Cupon</h3>
                                <div class="cart_total_inner">
                                    <ul>
                                        <li><a href="#"><span>Cart Subtotal</span><b th:text="${#aggregates.sum(lineItems.![total])}" /></a></li>
                                        <li><a href="#"><span>Shipping</span> Free</a></li>
                                        <li><a href="#"><span>Totals</span> <b th:text="${#aggregates.sum(lineItems.![total])}"></b></a></li>
                                    </ul>
                                </div>
                                <form class="quantity" th:method="post" th:action="@{/cart}">
<!--                                    <input type="hidden" name="productId" th:value="${product.id}">-->
<!--                                    <div class="custom">-->
<!--                                        <input type="hidden" th:value="${lineItems.qty}">-->
<!--                                        <button onclick="var result = document.getElementById('sst'); var sst = result.value; if( !isNaN( sst ) &amp;&amp; sst > 0 ) result.value&#45;&#45;;return false;" class="reduced items-count" type="button"><i class="icon_minus-06"></i></button>-->
<!--                                        <input type="text" name="qty" id="sst" maxlength="12" value="${lineItems.qty}" title="Quantity:" class="input-text qty">-->
<!--                                        <button onclick="var result = document.getElementById('sst'); var sst = result.value; if( !isNaN( sst )) result.value++;return false;" class="increase items-count" type="button"><i class="icon_plus"></i></button>-->
<!--                                    </div>-->
                                    <button type="submit" class="btn btn-primary update_btn">update cart</button>
<!--                                    <button type="submit" class="add_cart_btn">add to cart</button>-->
                                </form>

<!--                                <button type="submit" class="btn btn-primary update_btn">update cart</button>-->
                                <button type="submit" class="btn btn-primary checkout_btn">proceed to checkout</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--================End Shopping Cart Area =================-->
        
        <!--================Footer Area =================-->
        <footer th:replace="fragments/footer.html :: footer"></footer>
        <!--================End Footer Area =================-->


        <script th:replace="fragments/scripts.html :: scripts"></script>
    </body>
</html>